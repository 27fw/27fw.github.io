<!DOCTYPE html><html lang="zh-Hans"><head><meta charset="utf-8"><meta name="X-UA-Compatible" content="IE=edge"><title>CSS中的float和clear | firework's Studio</title><meta name="description" content="CSS中的float和clear - Wee"><meta name="viewport" content="width=device-width, initial-scale=1"><link rel="icon" href="/favicon.ico"><link rel="stylesheet" href="/css/theme.css"><link rel="search" type="application/opensearchdescription+xml" href="/atom.xml" title="firework's Studio"></head><body><div class="wrap"><header><h1 class="branding"><a href="/" title="firework's Studio">firework's Studio</a></h1><ul class="nav nav-list"><li class="nav-list-item"><a class="nav-list-link" href="/" target="_self">HOME</a></li><li class="nav-list-item"><a class="nav-list-link" href="/archives/index.html" target="_self">ARCHIVES</a></li><li class="nav-list-item"><a class="nav-list-link" href="/about" target="_self">ABOUT</a></li><li class="nav-list-item"><a class="nav-list-link" href="/atom.xml" target="_self">RSS</a></li></ul></header><main class="container"><div class="post"><article class="post-block"><h1 class="post-title">CSS中的float和clear</h1><div class="post-info">2017/02/07</div><div class="post-content"><h1 id="CSS中的float和clear"><a href="#CSS中的float和clear" class="headerlink" title="CSS中的float和clear"></a>CSS中的float和clear</h1><h2 id="引言"><a href="#引言" class="headerlink" title="引言"></a>引言</h2><p>float是CSS中相当重要的属性，很惭愧只学了个皮毛，找个机会认真的学习一下float，以后就不要再在float的坑中摔倒了，那么开始。</p>
<h2 id="1-float的定义"><a href="#1-float的定义" class="headerlink" title="1. float的定义"></a>1. float的定义</h2><p>从网上搜了一个中文版对float的定义，出处已无法考证</p>
<blockquote>
<p>CSS样式的float浮动属性，用于设置标签对象的浮动布局，浮动也就是我们所说标签对象浮动居左靠左和浮动居右靠右。</p>
</blockquote>
<p>从<a href="https://developer.mozilla.org/en-US/docs/Web/CSS/float" target="_blank" rel="external"><strong>MDN</strong></a>中找了一个相对“官方”的定义。</p>
<blockquote>
<p>The float CSS property specifies that an element should be taken from the normal flow and placed along the left or right side of its container, where text and inline elements will wrap around it.</p>
</blockquote>
<p>和中文版的定义说的其实差不多，没有什么必要纠结。</p>
<h2 id="2-float的各种属性"><a href="#2-float的各种属性" class="headerlink" title="2. float的各种属性"></a>2. float的各种属性</h2><h3 id="2-1-MDN"><a href="#2-1-MDN" class="headerlink" title="2.1 MDN"></a>2.1 MDN</h3><p>继续往下看MDN，<br><img src="/2017-02-07/float理解/pic3.png" alt="pic3"><br>默认值为none，对所有非display: none的元素都适用，默认不继承。  </p>
<blockquote>
<p>As float implies the use of the block layout, it modifies the computed value of the display values in some cases:</p>
</blockquote>
<p>应用float属性的元素将会应用block layout，将改变元素display的计算值。<br><img src="/2017-02-07/float理解/pic4.png" alt="pic4"></p>
<blockquote>
<p><strong>left</strong><br>Is a keyword indicating that the element must float on the left side of its containing block.<br><strong>right</strong><br>Is a keyword indicating that the element must float on the right side of its containing block.<br><strong>none</strong><br>Is a keyword indicating that the element must not float.</p>
</blockquote>
<p>就是一些比较基本的概念，浮动到所在容器的左侧（右侧）。  </p>
<h3 id="2-2-W3"><a href="#2-2-W3" class="headerlink" title="2.2 W3"></a>2.2 W3</h3><p>MDN似乎没有什么特别有用的信息，再去看W3的<a href="https://www.w3.org/TR/CSS21/visuren.html#propdef-clear" target="_blank" rel="external">文档</a>中对float的定义，毕竟文档是最权威的。<br>文档中写道</p>
<blockquote>
<p>This property specifies whether a box should float to the left, right, or not at all. It may be set for any element, but only applies to elements that generate boxes that are not absolutely positioned. </p>
</blockquote>
<p>即float对绝对定位的元素不起作用。 </p>
<p>到<strong>这里float基本用法可以参见：</strong><a href="http://www.cnblogs.com/polk6/p/3142187.html#Menu2-floatLeft" target="_blank" rel="external"><strong>CSS float 浮动属性</strong></a></p>
<p>接下来再仔细看float的nine rules：</p>
<h4 id="rule1"><a href="#rule1" class="headerlink" title="rule1"></a>rule1</h4><blockquote>
<p>The left outer edge of a left-floating box may not be to the left of the left edge of its containing block. An analogous rule holds for right-floating elements.</p>
</blockquote>
<p><strong>左浮动盒子的左边界不会超出其容器的左边界，同理右浮动。</strong><br>很好理解，浮动的边界即为其父元素的边界。</p>
<h4 id="rule2"><a href="#rule2" class="headerlink" title="rule2"></a>rule2</h4><blockquote>
<p>If the current box is left-floating, and there are any left-floating boxes generated by elements earlier in the source document, then for each such earlier box, either the left outer edge of the current box must be to the right of the right outer edge of the earlier box, or its top must be lower than the bottom of the earlier box. Analogous rules hold for right-floating boxes.</p>
</blockquote>
<p><strong>如果某个盒子是左浮动的，它之前有左浮动盒子，那么他一定在之前的浮动盒子的右边界右边，或者在其底边界的下面，同理右边界。</strong><br>这个规则很关键，其中很容易被忽视的一点就是：这个规则对浮动元素之前的<strong>所有</strong>浮动元素都有效。</p>
<h4 id="rule3"><a href="#rule3" class="headerlink" title="rule3"></a>rule3</h4><blockquote>
<p>The right outer edge of a left-floating box may not be to the right of the left outer edge of any right-floating box that is next to it. Analogous rules hold for right-floating elements.</p>
</blockquote>
<p>一个左浮动盒子right outer edge可能不挨着一个紧随其后的右浮动盒子的left outer edge的左边。同理右浮动。（讲真，不理解这个rule到底在说啥…）</p>
<h4 id="rule4"><a href="#rule4" class="headerlink" title="rule4"></a>rule4</h4><blockquote>
<p>A floating box’s outer top may not be higher than the top of its containing block. When the float occurs between two collapsing margins, the float is positioned as if it had an otherwise empty anonymous block parent taking part in the flow. The position of such a parent is defined by the rules in the section on margin collapsing.</p>
</blockquote>
<p>浮动盒子的顶边界不能超过其容器。当？？？</p>
<h4 id="rule5"><a href="#rule5" class="headerlink" title="rule5"></a>rule5</h4><blockquote>
<p>The outer top of a floating box may not be higher than the outer top of any block or floated box generated by an element earlier in the source document.</p>
</blockquote>
<p>浮动盒子的的顶边界不会高过任何在文档中位于它之前的块级元素或浮动盒子的顶边界。<br><strong>文档流中出现的顺序对float的效果产生了重要的影响，很多时候都是文档流的顺序决定float的效果</strong></p>
<h4 id="rule-6"><a href="#rule-6" class="headerlink" title="rule 6"></a>rule 6</h4><blockquote>
<p>The outer top of an element’s floating box may not be higher than the top of any line-box containing a box generated by an element earlier in the source document.</p>
</blockquote>
<p>浮动盒子的顶边界不会比任何在文档中位于它之前的包含box的line-box的顶边界高。<br>对line box的理解可以看 <a href="http://www.zhangxinxu.com/wordpress/2010/01/css-float%E6%B5%AE%E5%8A%A8%E7%9A%84%E6%B7%B1%E5%85%A5%E7%A0%94%E7%A9%B6%E3%80%81%E8%AF%A6%E8%A7%A3%E5%8F%8A%E6%8B%93%E5%B1%95%E4%B8%80/" target="_blank" rel="external"><strong>CSS float浮动的深入研究、详解及拓展(一)</strong></a>，讲的非常详细。</p>
<h4 id="rule7"><a href="#rule7" class="headerlink" title="rule7"></a>rule7</h4><blockquote>
<p>A left-floating box that has another left-floating box to its left may not have its right outer edge to the right of its containing block’s right edge. (Loosely: a left float may not stick out at the right edge, unless it is already as far to the left as possible.) An analogous rule holds for right-floating elements.</p>
</blockquote>
<p>老实说，没看懂，看其他人的翻译是</p>
<blockquote>
<p>就是如果一行之内要放第二个浮动元素，如果放不下了，那就换行。</p>
</blockquote>
<h4 id="rule8"><a href="#rule8" class="headerlink" title="rule8"></a>rule8</h4><blockquote>
<p>A floating box must be placed as high as possible.</p>
</blockquote>
<p>一个浮动盒子应该尽可能放的高。</p>
<h4 id="rule9"><a href="#rule9" class="headerlink" title="rule9"></a>rule9</h4><blockquote>
<p>A left-floating box must be put as far to the left as possible, a right-floating box as far to the right as possible. A higher position is preferred over one that is further to the left/right.</p>
</blockquote>
<p>左浮动的盒子应尽可能往左放，同理右浮动。当元素既可以放置的更“高”，也能放置的更“左/右”时，应优先放的更“高”。</p>
<h2 id="案例"><a href="#案例" class="headerlink" title="案例"></a>案例</h2><h3 id="case1"><a href="#case1" class="headerlink" title="case1"></a>case1</h3><p><img src="/2017-02-07/float理解/show1.png" alt="showpic1"><br>代码很简单，就不帖了，在一个container里有div1~div5，都具有float: left属性（为了看清楚每个div我都加了10px的margin）。div1和div2很好理解，div1脱离文档流，浮动到最左边，右边有足够的空间，所以div2在div1的右边排列。div3也依次排列。<br>到了div4，由于右边的位置不够，div4只能换行，那么为什么div4在这个位置呢？因为根据rule9，高度优先，所以div4挤进了div3留下的小空里。<br>然后是div5，我以前一直觉得既然高度优先，div5应该紧贴在div1的下面，但为什么div5的上边界挨着div4的下边界呢（请暂时忽略margin，只是为了演示，不影响原理）？因为根据rule2——如果某个盒子是左浮动的，它之前有左浮动盒子，那么他一定在之前的浮动盒子的右边界右边，或者在其底边界的下面，同理右边界。<strong>在计算一个元素的浮动位置的时候要考虑其位置是否对之前所有的浮动元素符合rule2。</strong>如果div5的上边界紧贴着div1，那么在文档流中位于div4之后的div5就既没有在div4的下边界下面，也没有在div4的右边界右面。所以，div5会以div4的下边界为“界限”，div5的上边界与div4的下边界齐平。</p>
<h3 id="case2"><a href="#case2" class="headerlink" title="case2"></a>case2</h3><p>html如下</p>
<pre><code>&lt;div id=&quot;div1&quot;&gt;div1:left&lt;/div&gt;
&lt;div id=&quot;div2&quot;&gt;div2:left&lt;/div&gt;
&lt;div id=&quot;div3&quot;&gt;div3:left&lt;/div&gt;
</code></pre><p><img src="/2017-02-07/float理解/show2.png" alt="show2"><br>float设定如图所示，div3被挤到了第二行因为其在文档流中最后一个出现。<br>调换一下div的顺序</p>
<pre><code>&lt;div id=&quot;div1&quot;&gt;div1:left&lt;/div&gt;
&lt;div id=&quot;div3&quot;&gt;div3:left&lt;/div&gt;
&lt;div id=&quot;div2&quot;&gt;div2:left&lt;/div&gt;
</code></pre><p><img src="/2017-02-07/float理解/show3.png" alt="show3"><br>这回是div2被挤到了第二行，因为在文档流中最后一个出现。</p>
<h2 id="参考文章"><a href="#参考文章" class="headerlink" title="参考文章"></a>参考文章</h2><ul>
<li><a href="https://www.w3.org/TR/CSS2/visuren.html#float-rules" target="_blank" rel="external">W3 rules</a></li>
<li><a href="http://blog-qeesung.rhcloud.com/css-float-nine-rules/" target="_blank" rel="external">CSS Float nine rules</a></li>
<li><a href="http://www.jianshu.com/p/07eb19957991#" target="_blank" rel="external">CSS浮动float详解</a></li>
</ul>
</div></article></div></main><footer><div class="paginator"><a class="prev" href="/2017-04-30/JavaScript高程3笔记/">prev</a><a class="next" href="/2016-10-28/A Simple React Router v4 Tutorial/">next</a></div><div id="lv-container" data-id="city" data-uid="MTAyMC8yODQyOS81MDAw"><script type="text/javascript">(function(d, s) {
var j, e = d.getElementsByTagName(s)[0];

if (typeof LivereTower === 'function') { return; }

j = d.createElement(s);
j.src = 'https://cdn-city.livere.com/js/embed.dist.js';
j.async = true;

e.parentNode.insertBefore(j, e);
})(document, 'script');</script></div><noscript>为正常使用来必力评论功能请激活JavaScript</noscript><div class="copyright"><p>&copy; 2017 <a href="https://fi3ework.github.io">Wee</a>.<br>Powered by <a href="https://hexo.io/" target="_blank">Hexo</a> × <a href="https://github.com/fi3ework/hexo-theme-archer" target="_blank">Ares</a>.</p></div></footer></div><script src="/scripts/tag.js"></script></body></html>