!function(e){function t(a){if(n[a])return n[a].exports;var o=n[a]={exports:{},id:a,loaded:!1};return e[a].call(o.exports,o,o.exports,t),o.loaded=!0,o.exports}var n={};t.m=e,t.c=n,t.p="",t(0)}([function(e,t,n){"use strict";var a=n(1),o=n(2),s=n(3),i=n(4),r=n(5);console.info("hexo-theme-archer: v201701016"),(0,a.init)(),(0,o.toggleHeader)(),(0,i.sidebarInit)(),(0,r.initTag)(),(0,s.initMobile)()},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});document.addEventListener("DOMContentLoaded",function(){console.log("DOMContentLoaded"),document.getElementsByClassName("container")[0].classList.remove("container-unloaded"),document.getElementsByClassName("container")[0].classList.add("container-footer-fade-in"),document.getElementsByClassName("footer")[0].classList.remove("footer-unloaded"),document.getElementsByClassName("footer")[0].classList.add("container-footer-fade-in"),document.getElementsByClassName("loading")[0].style.display="none"},!1),t.init=function(){var e=$(".site-intro-img:first"),t=$(".site-intro-placeholder:first"),n=e.css("background-image").match(/url\("*([^"]*)"*\)/);if(n.length<2)console.log(n);else{var a=n[1],o=new Image;o.onload=function(){t.remove(),console.info("PLACEHOLDER REMOVED")},o.src=a}}},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.toggleHeader=function(){function e(e){return(m+=e-h)>50?(m=0,1):m<-50?(m=0,-1):0}function t(e){if(e>f){if(1!==v)return v=1,p=!1,1}else if(-1!==v)return v=-1,p=!0,-1;return 0}function n(n){g||(requestAnimationFrame(function(){var a=$(document).scrollTop(),i=t(a);if(1==i?(u.addClass("toc-fixed"),c.addClass("home-link-hide"),l.addClass("back-top-show"),d.addClass("header-sidebar-menu-black")):-1==i&&(u.removeClass("toc-fixed"),c.removeClass("home-link-hide"),s.removeClass("banner-show"),l.removeClass("back-top-show"),d.removeClass("header-sidebar-menu-black")),o){var r=e(a);1==r?s.removeClass("banner-show"):-1!=r||p||s.addClass("banner-show")}h=$(n).scrollTop(),g=!1}),g=!0)}function a(e){e.preventDefault();var t=setInterval(function(){var e=$(document).scrollTop();window.scrollTo(0,Math.max(Math.floor(.8*e))),0===e&&clearInterval(t)},20)}var o=0;void 0!==document.getElementsByClassName("post-body")[0]&&(o=1);var s=$(".banner:first"),i=s.find(".post-title a"),r=$(".site-intro:first"),c=$(".home-link:first"),l=$(".back-top:first"),d=$(".header-sidebar-menu:first"),f=r.offset().top+r.outerHeight(),u=$(".toc-wrapper:first");u.find(".toc-catalog").on("click",function(){u.find(".toc").toggleClass("toc-hide")});var h=0,m=0,v=-1,p=!0,g=!1;$(document).on("scroll",function(){n(this)}),[i,l].forEach(function(e){e.on("click",a)})}},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.initMobile=function(){function e(e){e.matches?(console.log("mobile"),document.body.addEventListener("touchstart",function(){})):console.log("desktop")}if(window.matchMedia){var t=window.matchMedia("(max-width: 900px)");t.addListener(e),e(t)}else window.addListener("resize",function(){e((window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth)>900?{matches:!1}:{matches:!0})},!1)}},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.sidebarInit=function(){function e(e){o.addClass("sidebar-show"),s.addClass("wrapper-show-sidebar"),f.addClass("header-slide"),d.addClass("toc-slide"),e.stopPropagation()}function t(e){this.scrollHeight==this.clientHeight?window.event.preventDefault():this.scrollTop<=0?e.originalEvent.wheelDelta>0&&window.event.preventDefault():this.scrollTop>=this.scrollHeight-this.clientHeight&&e.originalEvent.wheelDelta<0&&window.event.preventDefault()}function n(){var e=document.createEvent("MouseEvents");e.initMouseEvent("click",!1,!0),i[0].dispatchEvent(e),l[0].dispatchEvent(e)}function a(e){var t=document.createEvent("MouseEvents");t.initMouseEvent("click",!1,!0),i[0].dispatchEvent(t),h.currTagName=e,h.dispatchEvent(t)}var o=$(".sidebar:first"),s=$(".wrapper:first"),i=$(".header-sidebar-menu:first"),r=o.find(".sidebar-content:first"),c=o.find(".sidebar-archive-link:first"),l=o.find(".sidebar-tags-link:first"),d=$(".toc-wrapper:first"),f=$(".header:first"),u=o.find(".sidebar-header:first");i.on("click",function(t){e(t)}),o.on("click",function(e){e.stopPropagation()}),s.on("click",function(e){o.hasClass("sidebar-show")&&(e.preventDefault(),o.removeClass("sidebar-show"),f.removeClass("header-slide"),s.removeClass("wrapper-show-sidebar"),d.removeClass("toc-slide"))}),c.on("click",function(){r.addClass("sidebar-content-show-archive").removeClass("sidebar-content-show-tags"),u.addClass("sidebar-header-show-archive").removeClass("sidebar-header-show-tags")}),l.on("click",function(){r.addClass("sidebar-content-show-tags").removeClass("sidebar-content-show-archive"),u.addClass("sidebar-header-show-tags").removeClass("sidebar-header-show-archive")}),o.on("mousewheel",function(e){var n=e.target,a=o.find(".sidebar-tag-list:first"),s=o.find(".sidebar-archive:first");$.contains(a[0],n)||a===n?t.call(a[0],e):$.contains(s[0],n)||s===n?t.call(s[0],e):e.preventDefault()});var h=$(".sidebar-tags-name:first")[0];$(".post-tag").on("click",function(e){n(),a(e.target.dataset.href),e.stopPropagation()})}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.initTag=void 0;var a=n(6);t.initTag=function(){function e(e){e[0].style.display="block"}function t(e){for(var t=this,n=0;n<e.length;n++)!function(n){var a=e[n].tags;a.length&&a.forEach(function(e){if(s.has(e.name)){var t=s.get(e.name)+","+n.toString();s.set(e.name,t)}else s.set(e.name,n.toString())},t)}(n)}function n(e){var t=$('<li class="tag-post-item"><span class="tag-post-date">'+a.archerUtil.dateFormater(new Date(Date.parse(e.date)),"yyyy/MM/dd")+"</span></li>"),n=$('<a class="tag-post-title" href="'+jsInfo.root+e.path+'">'+e.title+"</a>");return t.append(n),t}var o=void 0,s=new Map;!function(){var n=jsInfo.root+"content.json?t="+ +new Date,a=new XMLHttpRequest;a.responseType="",a.open("get",n,!0);var s=$(".tag-load-fail:first");a.onload=function(){200==this.status||304==this.status?(s.remove(),t(o=JSON.parse(this.responseText))):(e(s),$(".sidebar-tags-name:first").remove())},a.send()}(),$(".sidebar-tags-name:first").on("click",function(e){e.preventDefault();var t=e.target;16&this.compareDocumentPosition(t)&&("SPAN"===t.tagName?this.currTagName=t.firstChild.innerHTML:this.currTagName=t.innerHTML);var a=s.get(this.currTagName);if(a){$(this).find(".sidebar-tag-name-focus").removeClass("sidebar-tag-name-focus");var i=!0,r=!1,c=void 0;try{for(var l,d=this.children[Symbol.iterator]();!(i=(l=d.next()).done);i=!0){var f=l.value;this.currTagName===f.firstChild.innerHTML&&f.classList.add("sidebar-tag-name-focus")}}catch(e){r=!0,c=e}finally{try{!i&&d.return&&d.return()}finally{if(r)throw c}}var u=a.split(","),h=document.createDocumentFragment(),m=document.getElementsByClassName("sidebar-tag-list")[0];m.innerHTML="",u.forEach(function(e){h.appendChild(n(o[e])[0])}),m.appendChild(h)}})}},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n={backTop:function(){var e=setInterval(function(){var t=document.body.scrollTop;document.body.scrollTop-=Math.max(Math.ceil(t/9)+2),0===t&&clearInterval(e)},20)},getScrollTop:function(){return document.documentElement.scrollTop||document.body.scrollTop},getAbsPosition:function(e){for(var t=e.offsetLeft,n=e.offsetTop;e=e.offsetParent;)t+=e.offsetLeft,n+=e.offsetTop;return{x:t,y:n}},dateFormater:function(e,t){var n={"M+":e.getMonth()+1,"d+":e.getDate(),"h+":e.getHours(),"m+":e.getMinutes(),"s+":e.getSeconds(),"q+":Math.floor((e.getMonth()+3)/3),S:e.getMilliseconds()};/(y+)/.test(t)&&(t=t.replace(RegExp.$1,(e.getFullYear()+"").substr(4-RegExp.$1.length)));for(var a in n)new RegExp("("+a+")").test(t)&&(t=t.replace(RegExp.$1,1==RegExp.$1.length?n[a]:("00"+n[a]).substr((""+n[a]).length)));return t},toggler:function(e,t,n,a,o,s){e&&"undefined"!=typeof window&&(e===window||e.nodeType)&&n.addEventListener(t,function(t){if(a)for(var n=a.split(/[, ]/),i=n.length;i--;)e.classList.add(n[i]);if(o)for(var r=o.split(/[, ]/),c=r.length;c--;)e.classList.remove(r[c]);s&&s(t)})}};t.archerUtil=n}]);